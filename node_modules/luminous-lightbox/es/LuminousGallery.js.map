{"version":3,"sources":["../src/js/LuminousGallery.js"],"names":["Luminous","LuminousGallery","triggers","options","luminousOpts","optionsDefaults","arrowNavigation","onChange","settings","Object","assign","_constructLuminousInstances","luminousInstances","triggerLen","length","i","trigger","lum","push","nextTriggerIndex","Array","prototype","indexOf","call","prevTriggerIndex","imgEl","forEach","instance","destroy"],"mappings":";;;;;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AAEA;AACA;AACA;;IACqBC,e;AACnB;AACF;AACA;AACA;AACA;AACA;AACE,2BAAYC,QAAZ,EAAuD;AAAA,QAAjCC,OAAiC,uEAAvB,EAAuB;AAAA,QAAnBC,YAAmB,uEAAJ,EAAI;;AAAA;;AACrD,QAAMC,eAAe,GAAG;AACtBC,MAAAA,eAAe,EAAE,IADK;AAEtBC,MAAAA,QAAQ,EAAE;AAFY,KAAxB;AAKA,SAAKC,QAAL,GAAgBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBL,eAAlB,EAAmCF,OAAnC,CAAhB;AAEA,SAAKD,QAAL,GAAgBA,QAAhB;AACA,SAAKE,YAAL,GAAoBA,YAApB;AACA,SAAKA,YAAL,CAAkB,UAAlB,IAAgC,IAAhC;AACA,SAAKA,YAAL,CAAkB,kBAAlB,IAAwC,KAAKI,QAAL,CAAc,iBAAd,CAAxC;;AACA,SAAKG,2BAAL;AACD;AAED;AACF;AACA;AACA;AACA;;;;;kDACgC;AAC5B,WAAKC,iBAAL,GAAyB,EAAzB;AAEA,UAAMC,UAAU,GAAG,KAAKX,QAAL,CAAcY,MAAjC;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAApB,EAAgCE,CAAC,EAAjC,EAAqC;AACnC,YAAMC,OAAO,GAAG,KAAKd,QAAL,CAAca,CAAd,CAAhB;AACA,YAAME,GAAG,GAAG,IAAIjB,QAAJ,CAAagB,OAAb,EAAsB,KAAKZ,YAA3B,CAAZ;AACA,aAAKQ,iBAAL,CAAuBM,IAAvB,CAA4BD,GAA5B;AACD;AACF;AAED;AACF;AACA;AACA;AACA;;;;gCACcD,O,EAAS;AACnB,UAAMG,gBAAgB,GACpBC,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,KAAKrB,QAAlC,EAA4Cc,OAA5C,IAAuD,CADzD;AAGA,aAAOG,gBAAgB,IAAI,KAAKjB,QAAL,CAAcY,MAAlC,GACH,KAAKZ,QAAL,CAAc,CAAd,CADG,GAEH,KAAKA,QAAL,CAAciB,gBAAd,CAFJ;AAGD;AAED;AACF;AACA;AACA;AACA;;;;oCACkBH,O,EAAS;AACvB,UAAMQ,gBAAgB,GACpBJ,KAAK,CAACC,SAAN,CAAgBC,OAAhB,CAAwBC,IAAxB,CAA6B,KAAKrB,QAAlC,EAA4Cc,OAA5C,IAAuD,CADzD;AAGA,aAAOQ,gBAAgB,GAAG,CAAnB,GACH,KAAKtB,QAAL,CAAc,KAAKA,QAAL,CAAcY,MAAd,GAAuB,CAArC,CADG,GAEH,KAAKZ,QAAL,CAAcsB,gBAAd,CAFJ;AAGD;AAED;AACF;AACA;AACA;AACA;;;;mCACsB;AAAA,UAATC,KAAS,QAATA,KAAS;AAClB,UAAMlB,QAAQ,GAAG,KAAKC,QAAL,CAAcD,QAA/B;;AACA,UAAIA,QAAQ,IAAI,OAAOA,QAAP,KAAoB,UAApC,EAAgD;AAC9CA,QAAAA,QAAQ,CAAC;AAAEkB,UAAAA,KAAK,EAALA;AAAF,SAAD,CAAR;AACD;AACF;AAED;AACF;AACA;AACA;;;;8BACY;AACR,WAAKb,iBAAL,CAAuBc,OAAvB,CAA+B,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,OAAT,EAAJ;AAAA,OAAvC;AACD;;;;;AAGH;;;SAvFqB3B,e;AAwFrBA,eAAe,CAACoB,SAAhB,CAA0B,SAA1B,IAAuCpB,eAAe,CAACoB,SAAhB,CAA0BO,OAAjE","sourcesContent":["import Luminous from \"./Luminous\";\n\n/**\n * Represents a gallery-style lightbox\n */\nexport default class LuminousGallery {\n  /**\n   * Constructor\n   * @param {!Array<!Element>} triggers Array of trigger elements\n   * @param {Object=} options Gallery options\n   * @param {Object=} luminousOpts Luminous options\n   */\n  constructor(triggers, options = {}, luminousOpts = {}) {\n    const optionsDefaults = {\n      arrowNavigation: true,\n      onChange: null,\n    };\n\n    this.settings = Object.assign({}, optionsDefaults, options);\n\n    this.triggers = triggers;\n    this.luminousOpts = luminousOpts;\n    this.luminousOpts[\"_gallery\"] = this;\n    this.luminousOpts[\"_arrowNavigation\"] = this.settings[\"arrowNavigation\"];\n    this._constructLuminousInstances();\n  }\n\n  /**\n   * Creates internal luminous instances\n   * @protected\n   * @return {void}\n   */\n  _constructLuminousInstances() {\n    this.luminousInstances = [];\n\n    const triggerLen = this.triggers.length;\n    for (let i = 0; i < triggerLen; i++) {\n      const trigger = this.triggers[i];\n      const lum = new Luminous(trigger, this.luminousOpts);\n      this.luminousInstances.push(lum);\n    }\n  }\n\n  /**\n   * Determines the next trigger element\n   * @param {!Element} trigger Current trigger element\n   * @return {!Element}\n   */\n  nextTrigger(trigger) {\n    const nextTriggerIndex =\n      Array.prototype.indexOf.call(this.triggers, trigger) + 1;\n\n    return nextTriggerIndex >= this.triggers.length\n      ? this.triggers[0]\n      : this.triggers[nextTriggerIndex];\n  }\n\n  /**\n   * Determines the previous trigger element\n   * @param {!Element} trigger Current trigger element\n   * @return {!Element}\n   */\n  previousTrigger(trigger) {\n    const prevTriggerIndex =\n      Array.prototype.indexOf.call(this.triggers, trigger) - 1;\n\n    return prevTriggerIndex < 0\n      ? this.triggers[this.triggers.length - 1]\n      : this.triggers[prevTriggerIndex];\n  }\n\n  /**\n   * Callback called when current image is changed\n   * @param {Object} params\n   * @param {!Element} params.imgEl New image element\n   */\n  onChange({ imgEl }) {\n    const onChange = this.settings.onChange;\n    if (onChange && typeof onChange === \"function\") {\n      onChange({ imgEl });\n    }\n  }\n\n  /**\n   * Destroys the internal luminous instances\n   * @return {void}\n   */\n  destroy() {\n    this.luminousInstances.forEach(instance => instance.destroy());\n  }\n}\n\n/* eslint-disable-next-line no-self-assign */\nLuminousGallery.prototype[\"destroy\"] = LuminousGallery.prototype.destroy;\n"],"file":"LuminousGallery.js"}